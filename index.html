<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge,chrome=1">
<title>eBPF - the Super Power for Kernel</title>
<meta name=renderer content="webkit">
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1">
<meta http-equiv=cache-control content="no-transform">
<meta http-equiv=cache-control content="no-siteapp">
<meta name=theme-color content="#f8f5ec">
<meta name=msapplication-navbutton-color content="#f8f5ec">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2806255399860723" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-1VNNF72R18"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-1VNNF72R18')</script>
<meta name=author content="Dave"><meta name=description content="Hugo theme even example site."><meta name=keywords content="Hugo,theme,even">
<meta name=generator content="Hugo 0.86.1 with theme even">
<link rel=canonical href=http://ebpf.xyz/>
<link href=http://ebpf.xyz/index.xml rel=alternate type=application/rss+xml title="eBPF - the Super Power for Kernel">
<link href=http://ebpf.xyz/index.xml rel=feed type=application/rss+xml title="eBPF - the Super Power for Kernel">
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous>
<meta property="og:title" content="eBPF - the Super Power for Kernel">
<meta property="og:description" content="Hugo theme even example site.">
<meta property="og:type" content="website">
<meta property="og:url" content="http://ebpf.xyz/">
<meta itemprop=name content="eBPF - the Super Power for Kernel">
<meta itemprop=description content="Hugo theme even example site."><meta name=twitter:card content="summary">
<meta name=twitter:title content="eBPF - the Super Power for Kernel">
<meta name=twitter:description content="Hugo theme even example site."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]-->
</head>
<body>
<div id=mobile-navbar class=mobile-navbar>
<div class=mobile-header-logo>
<a href=/ class=logo>eBPF Pearls</a>
</div>
<div class=mobile-navbar-icon>
<span></span>
<span></span>
<span></span>
</div>
</div>
<nav id=mobile-menu class="mobile-menu slideout-menu">
<ul class=mobile-menu-list>
<a href=/>
<li class=mobile-menu-item>Home</li>
</a><a href=/post/>
<li class=mobile-menu-item>Archives</li>
</a><a href=/tags/>
<li class=mobile-menu-item>Tags</li>
</a><a href=/categories/>
<li class=mobile-menu-item>Categories</li>
</a>
</ul>
</nav>
<div class=container id=mobile-panel>
<header id=header class=header>
<div class=logo-wrapper>
<a href=/ class=logo>eBPF Pearls</a>
</div>
<nav class=site-navbar>
<ul id=menu class=menu>
<li class=menu-item>
<a class=menu-item-link href=/>Home</a>
</li><li class=menu-item>
<a class=menu-item-link href=/post/>Archives</a>
</li><li class=menu-item>
<a class=menu-item-link href=/tags/>Tags</a>
</li><li class=menu-item>
<a class=menu-item-link href=/categories/>Categories</a>
</li>
</ul>
</nav>
</header>
<main id=main class=main>
<div class=content-wrapper>
<div id=content class=content>
<section id=posts class=posts>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/build-useful-tools-with-ebpf-part2-tracing_the-locks-in-linux-kernel/>Build Useful Tools With Ebpf Part2 Tracing_the Locks in Linux Kernel</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-29 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/2019/> 2019 </a>
<a href=/categories/bcc-ex/> bcc-ex </a>
</div>
<span class=more-meta> 1833 words </span>
<span class=more-meta> 9 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/build-useful-tools-with-ebpf-part2-tracing_the-locks-in-Linux-kernel
Linux kernel has different types of locks for synchronization. Spin locks, Semaphores, Futexes are some examples. These locks have different behavior and if they are not used properly, it can create performance degradation. For example, spinlocks have least locking and unlocking times but they waste CPU cycles. Spinlocks are used when the waiting time is known to be small. But if a kernel thread is waiting for a spinlock for a considerable amount of time, CPU time is wasted and system performance will be severely affected.
</div>
<div class=read-more>
<a href=/post/build-useful-tools-with-ebpf-part2-tracing_the-locks-in-linux-kernel/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/build-useful-tools-with-ebpf-part1-setup-bcc/>Build Useful Tools With Ebpf Part1 Setup Bcc</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-29 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/2019/> 2019 </a>
<a href=/categories/bcc-ex/> bcc-ex </a>
</div>
<span class=more-meta> 795 words </span>
<span class=more-meta> 4 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/build-useful-tools-with-ebpf-part1-setup-bcc
eBPF is an in kernel virtual machine in linux. It can execute user supplied code in a sandboxed environment inside the kernel. It can be used in different ways to achieve different goals. Most usefull and interesting application of eBPF is dynamic tracing.
eBPF eBPF, which was introduced from linux kernel 3.18, has brought DTrace like features to the kernel. eBPF is an in kernel virtual machine in linux kernel which can run user supplied code.
</div>
<div class=read-more>
<a href=/post/build-useful-tools-with-ebpf-part1-setup-bcc/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/klock-stat/>Klock Stat</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-29 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/2019/> 2019 </a>
<a href=/categories/bcc-ex/> bcc-ex </a>
</div>
<span class=more-meta> 2328 words </span>
<span class=more-meta> 11 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/klock-stat
kLockStat: An eBPF Tool To Monitor Linux Kernel Lock Contentions APRIL 30, 2019
Today most of the applications are multithreaded. Parallelism improves performance of applications. But there can be scalability bottlenecks inside the kernel. There are studies that exposes such bottlenecks in linux kernel. Even if the application is written in a perfectly scalable fasion, sometimes the bottlenecks inside the kernel prevent the application from scaling to a large number of processors.
</div>
<div class=read-more>
<a href=/post/klock-stat/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/performanc_tracing_with_bpf/>Performanc Tracing with BPF</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-28 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/overview/> overview </a>
<a href=/categories/2021/> 2021 </a>
<a href=/categories/tracing/> tracing </a>
</div>
<span class=more-meta> 302 words </span>
<span class=more-meta> 2 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/performanc_tracing_with_bpf
#the-canvas { border: 1px solid black; direction: ltr; width: 100%; height: auto; display: none; } #paginator { display: none; text-align: center; margin-bottom: 10px; } #loadingWrapper { display: none; justify-content: center; align-items: center; width: 100%; height: 350px; } #loading { display: inline-block; width: 50px; height: 50px; border: 3px solid #d2d0d0;; border-radius: 50%; border-top-color: #383838; animation: spin 1s ease-in-out infinite; -webkit-animation: spin 1s ease-in-out infinite; } @keyframes spin { to { -webkit-transform: rotate(360deg); } } @-webkit-keyframes spin { to { -webkit-transform: rotate(360deg); } } Previous Next &nbsp; &nbsp; Page: / window.
</div>
<div class=read-more>
<a href=/post/performanc_tracing_with_bpf/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/concurrency-management-in-bpf/>Concurrency Management in BPF</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-28 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/map/> map </a>
<a href=/categories/concurrency/> concurrency </a>
<a href=/categories/2019/> 2019 </a>
</div>
<span class=more-meta> 1312 words </span>
<span class=more-meta> 7 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/concurrency-management-in-bpf
In the beginning, programs run on the in-kernel BPF virtual machine had no persistent internal state and no data that was shared with any other part of the system. The arrival of eBPF and, in particular, its maps functionality, has changed that situation, though, since a map can be shared between two or more BPF programs as well as with processes running in user space. That sharing naturally leads to concurrency problems, so the BPF developers have found themselves needing to add primitives to manage concurrency (the &ldquo;exchange and add&rdquo; or XADD instruction, for example).
</div>
<div class=read-more>
<a href=/post/concurrency-management-in-bpf/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/dive_into_ebpf_read_list/>Dive into BPF: a list of reading material</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-26 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/overview/> overview </a>
<a href=/categories/2019/> 2019 </a>
</div>
<span class=more-meta> 7241 words </span>
<span class=more-meta> 34 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/dive_into_ebpf_read_list
~ Updated 2019-01-10 ~
Chinese: https://linux.cn/article-9507-1.html (older 2017)
1. What is BPF? BPF, as in Berkeley Packet Filter, was initially conceived in 1992 so as to provide a way to filter packets and to avoid useless packet copies from kernel to userspace. It initially consisted in a simple bytecode that is injected from userspace into the kernel, where it is checked by a verifier—to prevent kernel crashes or security issues—and attached to a socket, then run on each received packet.
</div>
<div class=read-more>
<a href=/post/dive_into_ebpf_read_list/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/awesome-ebpf/>Awesome eBPF</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-26 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/overview/> overview </a>
<a href=/categories/2022/> 2022 </a>
</div>
<span class=more-meta> 4151 words </span>
<span class=more-meta> 20 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr：https://ebpf.xyz/post/awesome-ebpf
A curated list of awesome projects related to eBPF.
BPF, as in Berkeley Packet Filter, is an in-kernel virtual machine running programs passed from user space. Initially implemented on BSD, then Linux, the (now legacy) &ldquo;classic BPF&rdquo; or cBPF machine would be used with tools like tcpdump for filtering packets in the kernel to avoid useless copies to user space. More recently, the BPF infrastructure in Linux has been completely reworked and gave life to the &ldquo;extended BPF&rdquo;, or eBPF, which gained new features (safety and termination checks, JIT-compiling for programs, persistent maps, a standard library, hardware offload support, etc.
</div>
<div class=read-more>
<a href=/post/awesome-ebpf/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
<article class=post>
<header class=post-header>
<h1 class=post-title><a class=post-link href=/post/what_is_ebpf/>What is eBPF?</a></h1>
<div class=post-meta>
<span class=post-time> 2022-03-25 </span>
<div class=post-category>
<a href=/categories/ebpf/> ebpf </a>
<a href=/categories/overview/> overview </a>
<a href=/categories/2019/> 2019 </a>
</div>
<span class=more-meta> 2850 words </span>
<span class=more-meta> 14 mins read </span>
</div>
</header>
<div class=post-content>
<div class=post-summary>
Addr: https://awesome-ebpf.github.io//what_is_ebpf
1. What is eBPF? eBPF is a revolutionary technology with origins in the Linux kernel that can run sandboxed programs in an operating system kernel. It is used to safely and efficiently extend the capabilities of the kernel without requiring to change kernel source code or load kernel modules.
Historically, the operating system has always been an ideal place to implement observability, security, and networking functionality due to the kernel’s privileged ability to oversee and control the entire system.
</div>
<div class=read-more>
<a href=/post/what_is_ebpf/ class=read-more-link>Read more...</a>
</div>
</div>
</article>
</section>
<nav class=pagination>
</nav>
</div>
</div>
</main>
<footer id=footer class=footer>
<div class=social-links>
<a href=https://github.com/awesome-ebpf class="iconfont icon-github" title=github></a>
<a href=http://ebpf.xyz/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a>
</div>
<div class=copyright>
<span class=power-by>
Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span>
<span class=division>|</span>
<span class=theme-info>
Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span>
<span class=copyright-year>
&copy;
2017 -
2022<span class=heart><i class="iconfont icon-heart"></i></span><span>Dave</span>
</span>
</div>
</footer>
<div class=back-to-top id=back-to-top>
<i class="iconfont icon-up"></i>
</div>
</div>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js></script>
</body>
</html>